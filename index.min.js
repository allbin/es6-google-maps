/*! es6-google-maps 0.8.10 14-03-2018 */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.GoogleMaps=a()}}(function(){return function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;var k=new Error('Uncaught, unspecified "error" event. ('+b+")");throw k.context=b,k}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:f=Array.prototype.slice.call(arguments,1),c.apply(this,f)}else if(g(c))for(f=Array.prototype.slice.call(arguments,1),j=c.slice(),d=j.length,i=0;i<d;i++)j[i].apply(this,f);return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned&&(c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())),this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(d<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else if(c)for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.prototype.listenerCount=function(a){if(this._events){var b=this._events[a];if(e(b))return 1;if(b)return b.length}return 0},d.listenerCount=function(a,b){return a.listenerCount(b)}},{}],2:[function(a,b,c){(function(a){function c(a,b,d){this.extend(c,google.maps.OverlayView),this.map_=a,this.markers_=[],this.clusters_=[],this.sizes=[53,56,66,78,90],this.styles_=[],this.ready_=!1;var e=d||{};this.gridSize_=e.gridSize||60,this.minClusterSize_=e.minimumClusterSize||2,this.maxZoom_=e.maxZoom||null,this.styles_=e.styles||[],this.imagePath_=e.imagePath||this.MARKER_CLUSTER_IMAGE_PATH_,this.imageExtension_=e.imageExtension||this.MARKER_CLUSTER_IMAGE_EXTENSION_,this.zoomOnClick_=!0,void 0!=e.zoomOnClick&&(this.zoomOnClick_=e.zoomOnClick),this.averageCenter_=!1,void 0!=e.averageCenter&&(this.averageCenter_=e.averageCenter),this.setupStyles_(),this.setMap(a),this.prevZoom_=this.map_.getZoom();var f=this;google.maps.event.addListener(this.map_,"zoom_changed",function(){var a=f.map_.getZoom();f.prevZoom_!=a&&(f.prevZoom_=a,f.resetViewport())}),google.maps.event.addListener(this.map_,"idle",function(){f.redraw()}),b&&b.length&&this.addMarkers(b,!1)}function d(a){this.markerClusterer_=a,this.map_=a.getMap(),this.gridSize_=a.getGridSize(),this.minClusterSize_=a.getMinClusterSize(),this.averageCenter_=a.isAverageCenter(),this.center_=null,this.markers_=[],this.bounds_=null,this.clusterIcon_=new e(this,a.getStyles(),a.getGridSize())}function e(a,b,c){a.getMarkerClusterer().extend(e,google.maps.OverlayView),this.styles_=b,this.padding_=c||0,this.cluster_=a,this.center_=null,this.map_=a.getMap(),this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(this.map_)}c.prototype.MARKER_CLUSTER_IMAGE_PATH_="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/images/m",c.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png",c.prototype.extend=function(a,b){return function(a){for(var b in a.prototype)this.prototype[b]=a.prototype[b];return this}.apply(a,[b])},c.prototype.onAdd=function(){this.setReady_(!0)},c.prototype.draw=function(){},c.prototype.setupStyles_=function(){if(!this.styles_.length)for(var a,b=0;a=this.sizes[b];b++)this.styles_.push({url:this.imagePath_+(b+1)+"."+this.imageExtension_,height:a,width:a})},c.prototype.fitMapToMarkers=function(){for(var a,b=this.getMarkers(),c=new google.maps.LatLngBounds,d=0;a=b[d];d++)c.extend(a.getPosition());this.map_.fitBounds(c)},c.prototype.setStyles=function(a){this.styles_=a},c.prototype.getStyles=function(){return this.styles_},c.prototype.isZoomOnClick=function(){return this.zoomOnClick_},c.prototype.isAverageCenter=function(){return this.averageCenter_},c.prototype.getMarkers=function(){return this.markers_},c.prototype.getTotalMarkers=function(){return this.markers_.length},c.prototype.setMaxZoom=function(a){this.maxZoom_=a},c.prototype.getMaxZoom=function(){return this.maxZoom_},c.prototype.calculator_=function(a,b){for(var c=0,d=a.length,e=d;0!==e;)e=parseInt(e/10,10),c++;return c=Math.min(c,b),{text:d,index:c}},c.prototype.setCalculator=function(a){this.calculator_=a},c.prototype.getCalculator=function(){return this.calculator_},c.prototype.addMarkers=function(a,b){for(var c,d=0;c=a[d];d++)this.pushMarkerTo_(c);b||this.redraw()},c.prototype.pushMarkerTo_=function(a){if(a.isAdded=!1,a.draggable){var b=this;google.maps.event.addListener(a,"dragend",function(){a.isAdded=!1,b.repaint()})}this.markers_.push(a)},c.prototype.addMarker=function(a,b){this.pushMarkerTo_(a),b||this.redraw()},c.prototype.removeMarker_=function(a){var b=-1;if(this.markers_.indexOf)b=this.markers_.indexOf(a);else for(var c,d=0;c=this.markers_[d];d++)if(c==a){b=d;break}return b!=-1&&(a.setMap(null),this.markers_.splice(b,1),!0)},c.prototype.removeMarker=function(a,b){var c=this.removeMarker_(a);return!(b||!c)&&(this.resetViewport(),this.redraw(),!0)},c.prototype.removeMarkers=function(a,b){for(var c,d=!1,e=0;c=a[e];e++){var f=this.removeMarker_(c);d=d||f}if(!b&&d)return this.resetViewport(),this.redraw(),!0},c.prototype.setReady_=function(a){this.ready_||(this.ready_=a,this.createClusters_())},c.prototype.getTotalClusters=function(){return this.clusters_.length},c.prototype.getMap=function(){return this.map_},c.prototype.setMap=function(a){this.map_=a},c.prototype.getGridSize=function(){return this.gridSize_},c.prototype.setGridSize=function(a){this.gridSize_=a},c.prototype.getMinClusterSize=function(){return this.minClusterSize_},c.prototype.setMinClusterSize=function(a){this.minClusterSize_=a},c.prototype.getExtendedBounds=function(a){var b=this.getProjection(),c=new google.maps.LatLng(a.getNorthEast().lat(),a.getNorthEast().lng()),d=new google.maps.LatLng(a.getSouthWest().lat(),a.getSouthWest().lng()),e=b.fromLatLngToDivPixel(c);e.x+=this.gridSize_,e.y-=this.gridSize_;var f=b.fromLatLngToDivPixel(d);f.x-=this.gridSize_,f.y+=this.gridSize_;var g=b.fromDivPixelToLatLng(e),h=b.fromDivPixelToLatLng(f);return a.extend(g),a.extend(h),a},c.prototype.isMarkerInBounds_=function(a,b){return b.contains(a.getPosition())},c.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers_=[]},c.prototype.resetViewport=function(a){for(var b,c=0;b=this.clusters_[c];c++)b.remove();for(var d,c=0;d=this.markers_[c];c++)d.isAdded=!1,a&&d.setMap(null);this.clusters_=[]},c.prototype.repaint=function(){var a=this.clusters_.slice();this.clusters_.length=0,this.resetViewport(),this.redraw(),window.setTimeout(function(){for(var b,c=0;b=a[c];c++)b.remove()},0)},c.prototype.redraw=function(){this.createClusters_()},c.prototype.distanceBetweenPoints_=function(a,b){if(!a||!b)return 0;var c=6371,d=(b.lat()-a.lat())*Math.PI/180,e=(b.lng()-a.lng())*Math.PI/180,f=Math.sin(d/2)*Math.sin(d/2)+Math.cos(a.lat()*Math.PI/180)*Math.cos(b.lat()*Math.PI/180)*Math.sin(e/2)*Math.sin(e/2),g=2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),h=c*g;return h},c.prototype.addToClosestCluster_=function(a){for(var b,c=4e4,e=null,f=(a.getPosition(),0);b=this.clusters_[f];f++){var g=b.getCenter();if(g){var h=this.distanceBetweenPoints_(g,a.getPosition());h<c&&(c=h,e=b)}}if(e&&e.isMarkerInClusterBounds(a))e.addMarker(a);else{var b=new d(this);b.addMarker(a),this.clusters_.push(b)}},c.prototype.createClusters_=function(){if(this.ready_)for(var a,b=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast()),c=this.getExtendedBounds(b),d=0;a=this.markers_[d];d++)!a.isAdded&&this.isMarkerInBounds_(a,c)&&this.addToClosestCluster_(a)},d.prototype.isMarkerAlreadyAdded=function(a){if(this.markers_.indexOf)return this.markers_.indexOf(a)!=-1;for(var b,c=0;b=this.markers_[c];c++)if(b==a)return!0;return!1},d.prototype.addMarker=function(a){if(this.isMarkerAlreadyAdded(a))return!1;if(this.center_){if(this.averageCenter_){var b=this.markers_.length+1,c=(this.center_.lat()*(b-1)+a.getPosition().lat())/b,d=(this.center_.lng()*(b-1)+a.getPosition().lng())/b;this.center_=new google.maps.LatLng(c,d),this.calculateBounds_()}}else this.center_=a.getPosition(),this.calculateBounds_();a.isAdded=!0,this.markers_.push(a);var e=this.markers_.length;if(e<this.minClusterSize_&&a.getMap()!=this.map_&&a.setMap(this.map_),e==this.minClusterSize_)for(var f=0;f<e;f++)this.markers_[f].setMap(null);return e>=this.minClusterSize_&&a.setMap(null),this.updateIcon(),!0},d.prototype.getMarkerClusterer=function(){return this.markerClusterer_},d.prototype.getBounds=function(){for(var a,b=new google.maps.LatLngBounds(this.center_,this.center_),c=this.getMarkers(),d=0;a=c[d];d++)b.extend(a.getPosition());return b},d.prototype.remove=function(){this.clusterIcon_.remove(),this.markers_.length=0,delete this.markers_},d.prototype.getSize=function(){return this.markers_.length},d.prototype.getMarkers=function(){return this.markers_},d.prototype.getCenter=function(){return this.center_},d.prototype.calculateBounds_=function(){var a=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(a)},d.prototype.isMarkerInClusterBounds=function(a){return this.bounds_.contains(a.getPosition())},d.prototype.getMap=function(){return this.map_},d.prototype.updateIcon=function(){var a=this.map_.getZoom(),b=this.markerClusterer_.getMaxZoom();if(b&&a>b)for(var c,d=0;c=this.markers_[d];d++)c.setMap(this.map_);else{if(this.markers_.length<this.minClusterSize_)return void this.clusterIcon_.hide();var e=this.markerClusterer_.getStyles().length,f=this.markerClusterer_.getCalculator()(this.markers_,e);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.setSums(f),this.clusterIcon_.show()}},e.prototype.triggerClusterClick=function(){var a=this.cluster_.getMarkerClusterer();google.maps.event.trigger(a,"clusterclick",this.cluster_),a.isZoomOnClick()&&this.map_.fitBounds(this.cluster_.getBounds())},e.prototype.onAdd=function(){if(this.div_=document.createElement("DIV"),this.visible_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(a),this.div_.innerHTML=this.sums_.text}var b=this.getPanes();b.overlayMouseTarget.appendChild(this.div_);var c=this;google.maps.event.addDomListener(this.div_,"click",function(){c.triggerClusterClick()})},e.prototype.getPosFromLatLng_=function(a){var b=this.getProjection().fromLatLngToDivPixel(a);return b.x-=parseInt(this.width_/2,10),b.y-=parseInt(this.height_/2,10),b},e.prototype.draw=function(){if(this.visible_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.top=a.y+"px",this.div_.style.left=a.x+"px"}},e.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},e.prototype.show=function(){if(this.div_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(a),this.div_.style.display=""}this.visible_=!0},e.prototype.remove=function(){this.setMap(null)},e.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),this.div_.parentNode.removeChild(this.div_),this.div_=null)},e.prototype.setSums=function(a){this.sums_=a,this.text_=a.text,this.index_=a.index,this.div_&&(this.div_.innerHTML=a.text),this.useStyle()},e.prototype.useStyle=function(){var a=Math.max(0,this.sums_.index-1);a=Math.min(this.styles_.length-1,a);var b=this.styles_[a];this.url_=b.url,this.height_=b.height,this.width_=b.width,this.textColor_=b.textColor,this.anchor_=b.anchor,this.textSize_=b.textSize,this.backgroundPosition_=b.backgroundPosition},e.prototype.setCenter=function(a){this.center_=a},e.prototype.createCss=function(a){var b=[];b.push("background-image:url("+this.url_+");");var c=this.backgroundPosition_?this.backgroundPosition_:"0 0";b.push("background-position:"+c+";"),"object"==typeof this.anchor_?("number"==typeof this.anchor_[0]&&this.anchor_[0]>0&&this.anchor_[0]<this.height_?b.push("height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;"):b.push("height:"+this.height_+"px; line-height:"+this.height_+"px;"),"number"==typeof this.anchor_[1]&&this.anchor_[1]>0&&this.anchor_[1]<this.width_?b.push("width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;"):b.push("width:"+this.width_+"px; text-align:center;")):b.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;");var d=this.textColor_?this.textColor_:"black",e=this.textSize_?this.textSize_:11;return b.push("cursor:pointer; top:"+a.y+"px; left:"+a.x+"px; color:"+d+"; position:absolute; font-size:"+e+"px; font-family:Arial,sans-serif; font-weight:bold"),b.join("")},a.MarkerClusterer=c,c.prototype.addMarker=c.prototype.addMarker,c.prototype.addMarkers=c.prototype.addMarkers,c.prototype.clearMarkers=c.prototype.clearMarkers,c.prototype.fitMapToMarkers=c.prototype.fitMapToMarkers,c.prototype.getCalculator=c.prototype.getCalculator,c.prototype.getGridSize=c.prototype.getGridSize,c.prototype.getExtendedBounds=c.prototype.getExtendedBounds,c.prototype.getMap=c.prototype.getMap,c.prototype.getMarkers=c.prototype.getMarkers,c.prototype.getMaxZoom=c.prototype.getMaxZoom,c.prototype.getStyles=c.prototype.getStyles,c.prototype.getTotalClusters=c.prototype.getTotalClusters,c.prototype.getTotalMarkers=c.prototype.getTotalMarkers,c.prototype.redraw=c.prototype.redraw,c.prototype.removeMarker=c.prototype.removeMarker,c.prototype.removeMarkers=c.prototype.removeMarkers,c.prototype.resetViewport=c.prototype.resetViewport,c.prototype.repaint=c.prototype.repaint,c.prototype.setCalculator=c.prototype.setCalculator,c.prototype.setGridSize=c.prototype.setGridSize,c.prototype.setMaxZoom=c.prototype.setMaxZoom,c.prototype.onAdd=c.prototype.onAdd,c.prototype.draw=c.prototype.draw,d.prototype.getCenter=d.prototype.getCenter,d.prototype.getSize=d.prototype.getSize,d.prototype.getMarkers=d.prototype.getMarkers,e.prototype.onAdd=e.prototype.onAdd,e.prototype.draw=e.prototype.draw,e.prototype.onRemove=e.prototype.onRemove,b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function m(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:m(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=a("./MapObject"),k=d(j),l=function(a){function b(){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return g(b,a),h(b,[{key:"dispose",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"dispose",this).call(this),this.hide(),delete this._marker,this._marker=!1}},{key:"show",value:function(){return this._isShown||(void 0===this._isShown&&this.Marker.setMap(this.Map.Map),this.Marker.setVisible(!0),this._isShown=!0,this.emit("show")),this}},{key:"hide",value:function(){return this._isShown&&(this._isShown=!1,this.Marker.setVisible(!1),this.emit("hide")),this}},{key:"onClick",value:function(a){this.emit("click",a)}},{key:"onDragEnd",value:function(){this.emit("dragend",this.Position),this.emit("move",this.Position)}},{key:"Marker",get:function(){if(this._marker)return this._marker;if(this._marker===!1)throw new Error("Marker has been destroyed");try{this._marker=new this.Api.Marker(this.Options),this._isShown=!!this._marker.getMap(),this.addEventListener(this._marker,"click",this.onClick.bind(this)),this.addEventListener(this._marker,"dragend",this.onDragEnd.bind(this)),this.ZIndex=this.Options.zIndex||0}catch(a){console.warn("Could not create Marker",a),this._marker=!1}return this._marker}},{key:"ZIndex",get:function(){return this.Marker.getZIndex()},set:function(a){this.Marker.setZIndex(a)}},{key:"Clickable",set:function(a){this.Marker.setClickable(a)},get:function(){return this.Marker.getClickable()}},{key:"Draggable",set:function(a){this.Marker.setDraggable(a)},get:function(){return this.Marker.getDraggable()}},{key:"Position",set:function(a){this.Marker.setPosition(a)},get:function(){return this.Marker.getPosition()}}]),b}(k["default"]);c["default"]=l},{"./MapObject":9}],4:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("events"),j=d(i),k=a("./MapInstance"),l=d(k),m=12e4,n=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.options=a,c.root=c.options.root||("undefined"==typeof window?{}:window),c.timeoutTimer=!1,c.mapsApi=c.root.google?c.root.google.maps:void 0,c.mapsApi?f(c):(c.root.setTimeout(c._load.bind(c),1),c)}return g(b,a),h(b,[{key:"create",value:function(a){if(!this.Ready)throw new Error("Maps not ready");return new l["default"](this.mapsApi,a)}},{key:"destroy",value:function(a){a.dispose()}},{key:"_load",value:function(){var a=this;if(this.timeoutTimer)throw new Error('Only call load once, then wait for "ready" or "error" events');this.timeoutTimer=this.root.setTimeout(function(){a.mapsApi||a.timeoutTimer===!1||a.emit("error","timeout"),a.timeoutTimer=!1},m),this._injectScript().then(function(){a._ready=!0,a.emit("ready",a.mapsApi)})["catch"](function(b){a.emit("error",b)})}},{key:"_injectScript",value:function(){var a=this;return new Promise(function(b,c){var d="_gmapsLoaded";a.root._gmapsLoaded=function(){return a.root.clearTimeout(a.timeoutTimer),a.timeoutTimer=!1,a.mapsApi=a.root.google.maps,a.mapsApi?b():void c("failed to load maps API")};var e="";a.options.libraries&&a.options.libraries.length>0&&(e="libraries="+a.options.libraries.join(","));var f=a.root.document.createElement("script"),g="https://maps.googleapis.com/maps/api/js?",h=[];if(a.options.client&&h.push("client="+a.options.client),a.options.apiKey||a.options.key){var i=a.options.apiKey||a.options.key;h.push("key="+i)}e&&h.push(e),h.push("callback="+d),f.setAttribute("src",g+h.join("&")),f.setAttribute("async",""),f.setAttribute("defer",""),a.root.document.querySelectorAll("body")[0].appendChild(f)})}},{key:"Ready",get:function(){return!!this.mapsApi}}]),b}(j["default"]);c["default"]=n},{"./MapInstance":7,events:1}],5:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./BaseMarker"),j=d(i),k=function(a){function b(){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return g(b,a),h(b,[{key:"Icon",set:function(a){return this.Marker.setIcon(a)},get:function(){return this.Marker.getIcon()}}]),b}(j["default"]);c["default"]=k},{"./BaseMarker":3}],6:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./BaseMarker"),j=d(i),k=function(a){function b(){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return g(b,a),h(b,[{key:"show",value:function(){return this.Marker.open(this.Map.Map),this}},{key:"hide",value:function(){return this.Marker.close(),this}},{key:"onCloseClick",value:function(){this.emit("close")}},{key:"Marker",get:function(){if(this._marker)return this._marker;if(this._marker===!1)throw new Error("Marker has been destroyed");return this._marker=new this.Api.InfoWindow(this.Options),this.addEventListener(this._marker,"closeclick",this.onCloseClick.bind(this)),this.ZIndex=this.Options.zIndex||0,this._marker}},{key:"Content",get:function(){return this.Marker.getContent()},set:function(a){return this.Marker.setContent(a),this}}]),b}(j["default"]);c["default"]=k},{"./BaseMarker":3}],7:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./MapObject"),j=d(i),k=a("./MapLayer"),l=d(k),m=a("./WMSLayer"),n=d(m),o=function(a){function b(a,c){e(this,b);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,null,c));return d._api=a,d._layers=[],d}return g(b,a),h(b,[{key:"disposeLayer",value:function(a){var b=this._layers.indexOf(a);return b!==-1&&this._layers.splice(b,1),a.dispose(),this}},{key:"createLayer",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=null;return b=a.type&&"wms"===a.type.toLowerCase()?new n["default"](this,a):new l["default"](this,a),this.addLayer(b),b}},{key:"addLayer",value:function(a){if(this!==a.Map)throw new Error("Layer belongs to other MapInstance");return this._layers.push(a),this.emit("layer:added",a),this}},{key:"removeLayer",value:function(a){var b=this._layers.indexOf(a);if(b===-1)throw new Error("Layer is not a part of this map instance");return this.emit("layer:removed",this._layers.splice(b,1)),this}},{key:"dispose",value:function(){var a=this;this._layers.forEach(function(b){a.disposeLayer(b)}),this.Options.el.innerHTML="",this._layers=[],this._map=null,this._api=null}},{key:"Api",get:function(){return this._api}},{key:"Layers",get:function(){return this._layers}},{key:"Map",get:function(){if(!this._map){if(!this.Api)throw new Error("Map instance has no Api reference, is it disposed?");this._map=new this.Api.Map(this.Options.el,this.Options)}return this._map}},{key:"Options",get:function(){return this._options}}]),b}(j["default"]);c["default"]=o},{"./MapLayer":8,"./MapObject":9,"./WMSLayer":15}],8:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function B(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:B(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},k=a("./MapObject"),l=d(k),m=a("./InfoWindow"),n=d(m),o=a("./IconMarker"),p=d(o),q=a("./TextOverlay"),r=d(q),s=a("./Polyline"),t=d(s),u=a("./Polygon"),v=d(u),w=a("./MultiPolygon"),x=d(w),y=a("node-js-marker-clusterer"),z=d(y);b.GoogleMaps_MapLayerZIndexOffset=0,b.GoogleMaps_MapLayerZIndexRange=75e3;var A=function(a){function c(a,d){e(this,c);var g=f(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,d));return g._map=a,g._objects=[],g.Options.zIndex?g.ZIndex=g.Options.zIndex:(g.ZIndex=b.GoogleMaps_MapLayerZIndexOffset,b.GoogleMaps_MapLayerZIndexOffset+=b.GoogleMaps_MapLayerZIndexRange),g}return g(c,a),i(c,[{key:"_indexOf",value:function(a){return this.Objects.indexOf(a)}},{key:"create",value:function(a,b){var c=null;b.zIndex=this.ZIndex+this.Objects.length+1;try{switch(a.toLowerCase()){case"infowindow":c=new n["default"](this,b);break;case"marker":case"mapmarker":c=new p["default"](this,b);break;case"multipoly":case"multipolygon":c=new x["default"](this,b);break;case"line":case"polyline":case"poly-line":c=new t["default"](this,b);break;case"poly":case"polygon":c=new v["default"](this,b);break;case"text":c=new r["default"](this,b);break;default:throw new Error("No such MapObject type "+a)}c&&(this.emit("created:"+a,c),this._add(c))}catch(d){console.warn("MapLayer.create(%s, options) failed",a,b,d,d.stack)}return c}},{key:"_resolveMultiArg",value:function(a){return a?"object"===("undefined"==typeof a?"undefined":h(a))?a:[a]:this.Objects}},{key:"show",value:function(a){return a=this._resolveMultiArg(a),a.forEach(function(a){a instanceof p["default"]||a.show()}),this}},{key:"hide",value:function(a){return a=this._resolveMultiArg(a),a.forEach(function(a){a instanceof p["default"]||a.hide()}),this}},{key:"_add",value:function(a){return this.Objects.push(a),a instanceof p["default"]&&this.Cluster.addMarker(a.Marker),this}},{key:"_reindex_objects",value:function(a){return this.Objects.forEach(function(b){b.ZIndex=a++}),a}},{key:"remove",value:function(a){var b=this._indexOf(a);if(b===-1)throw new Error("Object is not part of layer");return a.hide(),a instanceof p["default"]&&this.Cluster.removeMarker(a.Marker),
this.emit("remove",this.Objects.splice(b,1)),this}},{key:"moveToFront",value:function(a){var b=this._indexOf(a);if(b===-1)throw new Error("Object is not part of layer");if(0!==b){var c=this.Objects.splice(b,1);c.ZIndex=this.ZIndex+1,this._reindex_objects(c.ZIndex+1),this.Objects.unshift(c),this.emit("promoted",c)}return this}},{key:"moveToBack",value:function(a){var b=this._indexOf(a);if(b===-1)throw new Error("Object is not part of layer");if(b!==this.Objects.length-1){var c=this.Objects.splice(b,1);this.Objects.push(c),this._reindex_objects(this.ZIndex+1),this.emit("demoted",c)}return this}},{key:"dispose",value:function(){this.Objects.forEach(function(a){a.dispose()}),j(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"dispose",this).call(this)}},{key:"Cluster",get:function(){return this._cluster||(this._cluster=new z["default"](this.Map.Map,this.Options.cluster||{})),this._cluster}},{key:"ZIndex",get:function(){return this._zindex},set:function(a){this._zindex=a,this._reindex_objects(a)}},{key:"Map",get:function(){return this._map}},{key:"Options",get:function(){return this._options}},{key:"Objects",get:function(){return this._objects}}]),c}(l["default"]);c["default"]=A}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./IconMarker":5,"./InfoWindow":6,"./MapObject":9,"./MultiPolygon":10,"./Polygon":12,"./Polyline":13,"./TextOverlay":14,"node-js-marker-clusterer":2}],9:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("events"),j=d(i),k=1,l=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,b);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return d._id=k++,d._parent=a,d._options=c||{},d._listeners=[],d}return g(b,a),h(b,[{key:"addEventListener",value:function(a,b,c){var d=this.Api.event.addListener(a,b,c),e={obj:a,evt:b,listener:d,callback:c};return this._listeners.push(e),this.emit("listener:added",e),d}},{key:"removeEventListener",value:function(a,b,c,d){for(var e=this._listeners.filter(function(e){return(b&&e.evt===b||!b)&&(a&&e.obj===a||!a)&&(c&&e.listener===c||!c)&&(d&&e.callback===d||!d)}),f=0;f<e.length;f++){var g=this._listeners.indexOf(e[f]);if(g===-1)throw new Error("Listener to be removed could not be found in listeners list.");var h=this._listeners.splice(g,1);this.Api.event.removeListener(h.listener),this.emit("listener:removed",h)}}},{key:"_stopListening",value:function(){var a=this;this._listeners.filter(function(b){a.Api.event.removeListener(b.listener)}),this._listeners=[],this.removeAllListeners()}},{key:"dispose",value:function(){this._stopListening()}},{key:"Id",get:function(){return this._id}},{key:"Options",set:function(a){this._options=a,this.emit("set:options",a)},get:function(){return this._options}},{key:"Parent",get:function(){return this._parent}},{key:"Api",get:function(){return this.Map.Api}},{key:"Map",get:function(){return this.Parent.Map}}]),b}(j["default"]);c["default"]=l},{events:1}],10:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./Polygon"),j=d(i),k=function(a){function b(){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return g(b,a),h(b,[{key:"Marker",get:function(){if(this._marker)return this._marker;if(this._marker===!1)throw new Error("Marker has been destroyed");return this._marker=new this.Api.Data.MultiPolygon(this.Options),this.addEventListener(this._marker,"click",this.onClick.bind(this)),this._marker}},{key:"Polyline",get:function(){return this.Marker}},{key:"Polygon",get:function(){return this.Marker}},{key:"MultiPolygon",get:function(){return this.Marker}},{key:"Path",set:function(){throw new Error("MultiPolygons have multiple paths")},get:function(){throw new Error("MultiPolygons have multiple paths")}},{key:"Paths",get:function(){return this.MultiPolygon.getPaths()},set:function(a){return this.MultiPolygon.setPaths(a)}}]),b}(j["default"]);c["default"]=k},{"./Polygon":12}],11:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function m(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:m(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=a("./MapObject"),k=d(j),l=function(a){function b(){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return g(b,a),h(b,[{key:"_onOverlayDraw",value:function(){this._drawTimer||(this._drawTimer=window.setTimeout(this._doDraw.bind(this),200))}},{key:"_doDraw",value:function(){this._drawTimer=!1;var a=this.Element;a.style.display="block",a.style.position="absolute";var b=this._marker?this._marker.getProjection():null;if(b){var c=b.fromLatLngToDivPixel(this.Options.position),d=parseInt(a.offsetWidth,10),e=parseInt(a.offsetHeight,10);a.style.left=Math.floor(c.x-d/2)+"px",a.style.top=Math.floor(c.y-e/2)+"px",this._isShown||(a.style.display="none")}}},{key:"_onOverlayShow",value:function(){this._isShown||(this._isShown=!0,this.Element.style.visibility="visible")}},{key:"_onOverlayHide",value:function(){this._isShown&&(this._isShown=!1,this.Element.style.visibility="hidden")}},{key:"_onOverlayToggle",value:function(){if(this._div){if("hidden"===this._div.style.visibility)return this._onOverlayShow();this._onOverlayHide()}}},{key:"_onOverlayAdd",value:function(){var a=this._marker.getPanes(),b=a[this.Options.pane||"overlayLayer"];if(b||(b=a.overlayLayer),!b)throw new Error("No pane to attach to");b.appendChild(this.Element)}},{key:"_onOverlayRemove",value:function(){this._div&&this._div.parentNode.removeChild(this._div),this._div=null}},{key:"dispose",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"dispose",this).call(this),this.hide(),delete this._marker,this._marker=!1}},{key:"show",value:function(){return this._isShown||(void 0===this._isShown?this.Overlay.setMap(this.Map.Map):this.Element.style.display="block",this._isShown=!0),this}},{key:"hide",value:function(){return this._isShown&&(this._isShown=!1,this.Element.style.display="none"),this}},{key:"Marker",get:function(){if(this._marker)return this._marker;if(this._marker===!1)throw new Error("Marker has been destroyed");var a=function(){};return a.prototype=new this.Api.OverlayView,a.prototype.toggle=this._onOverlayToggle.bind(this),a.prototype.draw=this._onOverlayDraw.bind(this),a.prototype.show=this._onOverlayShow.bind(this),a.prototype.hide=this._onOverlayHide.bind(this),a.prototype.onAdd=this._onOverlayAdd.bind(this),a.prototype.onRemove=this._onOverlayRemove.bind(this),this._marker=new a,this.ZIndex=this.Options.zIndex||0,this._marker}},{key:"Position",set:function(a){this.Options.position=a},get:function(){return this.Options.position}},{key:"Overlay",get:function(){return this.Marker}},{key:"Element",get:function(){var a=this;return this._div||(this._div=document.createElement("div"),Object.keys(this.Options.attributes||{}).filter(function(b){a._div.setAttribute(b,a.Options.attributes[b])})),this._div}}]),b}(k["default"]);c["default"]=l},{"./MapObject":9}],12:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./Polyline"),j=d(i),k=function(a){function b(){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return g(b,a),h(b,[{key:"Marker",get:function(){if(this._marker)return this._marker;if(this._marker===!1)throw new Error("Marker has been destroyed");try{this._marker=new this.Api.Polygon(this.Options),this.addEventListener(this._marker,"click",this.onClick.bind(this))}catch(a){console.warn("Could not create Polygon",a),this._marker=!1}return this._marker}},{key:"Polyline",get:function(){return this.Marker}},{key:"Polygon",get:function(){return this.Marker}},{key:"Paths",get:function(){return this.Polygon?this.Polygon.getPaths()||[]:[]},set:function(a){var b=this;if(this.Polygon){this._mvcArrays||(this._mvcArrays=new this.Api.MVCArray);var c=function(a,b){this.lat=function(){return a},this.lng=function(){return b}};c.prototype=this.Api.LatLng.prototype;var d=function(a){return new c(a.lat,a.lng)};for(a.forEach(function(a,c){if(b._mvcArrays.getLength()<=c)b._mvcArrays.setAt(c,new b.Api.MVCArray(a.map(d)));else{var e=b._mvcArrays.getAt(c).getArray();e.slice(e.length),a.map(d).forEach(function(a){e.push(a)})}});this._mvcArrays.getLength()>a.length;)this._mvcArrays.removeAt(this._mvcArrays.getLength()-1);this._bounds=!1,this.Polygon.setPaths(this._mvcArrays)}}},{key:"Bounds",get:function(){var a=this._bounds;return a||(a=new this.Api.LatLngBounds,this.Paths.forEach(function(b){b.forEach(function(b){a.extend(b)})}),this._bounds=a),a}}]),b}(j["default"]);c["default"]=k},{"./Polyline":13}],13:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./BaseMarker"),j=d(i),k=function(a){function b(){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return g(b,a),h(b,[{key:"onClick",value:function(a){this.emit("click",a)}},{key:"Marker",get:function(){if(this._marker)return this._marker;if(this._marker===!1)throw new Error("Marker has been destroyed");try{this._marker=new this.Api.Polyline(this.Options),this.addEventListener(this._marker,"click",this.onClick.bind(this))}catch(a){console.warn("Could not create Polyline",a),this._marker=!1}return this._marker}},{key:"Polyline",get:function(){return this.Marker}},{key:"ZIndex",set:function(a){this._zindex=a,this.Marker.setOptions({zIndex:a})},get:function(){return this._zindex}},{key:"Path",get:function(){return this.Marker?this.Marker.getPath():[]},set:function(a){return this._bounds=!1,this.Marker?this.Marker.setPath(a):void 0}},{key:"Editable",set:function(a){return this.Marker?this.Marker.setEditable(a):void 0},get:function(){return this.Marker?this.Marker.getEditable():void 0}},{key:"Bounds",get:function(){var a=this;return this._bounds||(this._bounds=new this.Api.LatLngBounds,this.Path.forEach(function(b){a._bounds.extend(b)})),this._bounds}},{key:"Center",get:function(){return this.Bounds.getCenter()}}]),b}(j["default"]);c["default"]=k},{"./BaseMarker":3}],14:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function m(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:m(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=a("./Overlay"),k=d(j),l=function(a){function b(a,c){e(this,b);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));if("undefined"==typeof d.Options.text)throw new Error("text not specified in options");if("undefined"==typeof d.Options.position)throw new Error("position not specified in options");return d}return g(b,a),h(b,[{key:"show",value:function(){this._txtEl||(this._txtEl=document.createElement("span"),this._txtEl.innerHTML=this.Options.text,this.Options.className&&this._txtEl.setAttribute("class",this.Options.className),this.Element.appendChild(this._txtEl)),i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"show",this).call(this)}},{key:"Text",get:function(){return this.Options.Text},set:function(a){this.Options.text=a,this._txtEl&&(this._txtEl.innerHTML=a)}}]),b}(k["default"]);c["default"]=l},{"./Overlay":11}],15:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./MapObject"),j=d(i),k=function(a){function b(){var a;e(this,b);for(var c=arguments.length,d=Array(c),g=0;g<c;g++)d[g]=arguments[g];var h=f(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(d)));return h._mapType=new h.Api.ImageMapType({getTileUrl:function(a,b){var c=h.Map.Map.getProjection(),d=Math.pow(2,b),e=c.fromPointToLatLng(new h.Api.Point(256*a.x/d,256*a.y/d)),f=c.fromPointToLatLng(new h.Api.Point(256*(a.x+1)/d,256*(a.y+1)/d)),g=0,i=0,j=e.lng()+g+","+(f.lat()+i)+","+(f.lng()+g)+","+(e.lat()+i),k=h._getUrl();return k+="&BBOX="+j},tileSize:new h.Api.Size(256,256),isPng:!0,projection:h.Options.projection||!1,name:h.Options.name||"wmsLayer",alt:h.Options.alt||!1,maxZoom:h.Options.maxZoom||19}),h}return g(b,a),h(b,[{key:"_getUrl",value:function(){return this.Options.url+(this.Options.url.indexOf("?")===-1?"?":"&")+"REQUEST=GetMap&STYLES=default&SERVICE=WMS&VERSION=1.3.0&LAYERS="+this.Options.layers+"&FORMAT=image/png&BGCOLOR=0xFFFFFF&TRANSPARENT=TRUE&CRS="+(this.Options.crs||"EPSG:4326")+"&WIDTH=256&HEIGHT=256"}},{key:"moveToFront",value:function(){throw new Error("Cannot moveToFront")}},{key:"moveToBack",value:function(){throw new Error("Cannot moveToBack")}},{key:"setOpacity",value:function(a){this._mapType.setOpacity(a)}},{key:"show",value:function(){this.Map.Map.overlayMapTypes.push(this._mapType)}},{key:"hide",value:function(){var a=this;this.Map.Map.overlayMapTypes.forEach(function(b,c){b===a._mapType&&a.Map.Map.overlayMapTypes.removeAt(c)})}},{key:"MapType",get:function(){return this._mapType}},{key:"Api",get:function(){return this.Parent.Api}},{key:"Map",get:function(){return this.Parent}}]),b}(j["default"]);c["default"]=k},{"./MapObject":9}]},{},[4])(4)});